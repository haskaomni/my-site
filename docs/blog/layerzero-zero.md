---
title: "Zero：去中心化多核世界计算机"
description: "LayerZero 发布的 Zero 技术白皮书翻译 — 首个多核世界计算机"
---

# Zero：去中心化多核世界计算机

**来源：[LayerZero 官方博客](https://layerzero.network/blog/zero-the-decentralized-multi-core-world-computer)**

![Zero 封面](/images/zero-manifesto.png)

---

Zero 引入了首个多核世界计算机，这是对当前制约区块链的单线程、同构架构的根本性突破。通过利用零知识（ZK）证明将执行与验证解耦，Zero 将网络从冗余复制转变为异构架构。这种结构性转变实现了两个不同的验证者类别：能在低端消费级硬件上运行的轻量级区块验证者（Block Validators），以及可选的高性能区块生产者（Block Producers）。

该系统通过解决四个主要瓶颈，实现了每个 Zone 每秒 200 万笔交易（TPS）的实际扩展路线图。这些解决方案包括用于状态存储的 [QMDB](https://layerzero.network/research/qmdb)、用于并行计算调度的 [FAFO](https://layerzero.network/research/fafo)、用于实时 ZK 证明的 Jolt Pro，以及用于高吞吐量网络的 SVID。Zero 提供了一个统一的、水平可扩展的环境，其中多个原子性区域（Atomicity Zones）像现代 CPU 上的并发进程一样运行。其结果是一个能够为中心化云服务提供商提供可信替代方案的去中心化基础设施。

## 什么是区块链？

要理解 Zero 的工作原理，你必须首先理解区块链的基本原理。

区块链是一个按顺序排列的交易列表，被分组到区块中。每个区块链接到前一个区块，历史记录保持安全和永久。为了找到网络的当前状态，系统针对一组特定规则运行这些交易。每个新区块都会更新状态。

状态被密码学地总结为一个可验证的状态根（S），并存储在区块链中。状态根允许你验证信息，比如你的账户余额，而无需重新运行交易。

![](/images/zero-1.png)

### 区块链有什么特别之处？

与数据库相比，这些本身并没有什么特别之处。区块链的独特之处在于去中心化。不是由一个中央权威机构，而是由一群多样化的无许可参与者（也称为验证者）对状态达成一致。这个群体越大，分布在不同司法管辖区和客户端之间，网络就越强大。

他们遵循共识协议，对每个区块达成绝对多数共识。这确保了即使一些验证者试图攻击，网络仍然安全。区块链之所以有效，是因为一个足够大的群体总能就真相达成一致，即使一些成员出了故障或试图作弊。

![](/images/zero-2.png)

### 区块链的原则

中本聪创建比特币是对 2008 年金融危机的直接回应。那场崩溃证明，中心化的银行和政府不值得被信任来保护我们的集体安全。

目标是用一个建立在经济激励之上的去中心化系统取代建立在信任之上的系统。在这个模型中，我们不需要验证者是"好的"。我们只需要他们是理性的。通过假设每个参与者都会追求自身的经济利益，系统将个体的逐利行为转化为保护网络的力量。

这些系统由三个核心原则定义：

- **去中心化**：不存在单点故障。
- **无许可**：没有人能阻止你参与协议。
- **抗审查**：没有单一权威机构能阻止或撤销你的交易。

这种转变通过自我托管将权力还给个人。当你持有自己的私钥时，你的财富属于你。中心化的行为者失去了扣押、冻结或用你的资产进行赌博的能力。这是与过时系统的最终决裂——在那个系统中，你的钱只是银行资产负债表上的一项负债。

![](/images/zero-3.png)

### 以太坊的崛起

这些核心原则催生了其他想要提供不仅仅是价值储存的区块链。这引发了以太坊的崛起。它的目标是构建一个可信中立且可编程的世界计算机。这是一个新的、去中心化的、无许可的互联网的到来。

从验证者的角度来看，以太坊只运行一个应用程序：以太坊虚拟机（EVM）。

你可以将 EVM 比作 MacOS 这样的操作系统。当一台计算机运行 MacOS 时，硬件不识别你使用的具体应用。它只运行操作系统并遵循操作系统提供的指令。EVM 的工作方式相同。它允许开发者通过使用智能合约来启动应用。

第一个真正的成功是金融。开发者构建了无需银行即可运行的金融应用。自然地，人们也尝试构建其他一切，包括社交媒体和游戏。

但他们撞上了一堵墙。在区块链上运行这些应用比使用传统的"Web2"服务要昂贵得多。随着更多人加入，世界计算机跟不上了。最终，即使是金融应用也难以增长，因为系统太慢、费用太高。

去中心化互联网的梦想是真实的，但基础设施还没有准备好处理这种规模。为什么它无法扩展？

![](/images/zero-4.png)

在以太坊中，验证者轮流提议新区块。当一个验证者被选中时，他们将交易打包在一起创建一个区块。然后，其余的验证者必须对其达成一致。

以太坊的问题在于它效率不高。为了保持同步并验证状态，网络中的每一个验证者都必须下载并重新运行每一笔交易。

如果你发送一笔交易，全球数千台计算机都做完全相同的数学运算来确认你的账户余额。这种持续的重复工作造成了巨大的瓶颈。因为网络的速度只能跟上最弱的环节，它无法扩展。

### 原则不是免费的

为了保持去中心化，以太坊必须保持适度的硬件要求。这确保了几乎任何人都可以在家运行一个节点。然而，这造成了一个主要瓶颈：世界计算机只能以一台低功率计算机的速度运行。

当太多人同时使用网络时，他们必须竞争每个区块内有限的空间。这引发了竞价战。用户必须支付更高的费用才能使用区块链。

这使得网络对于除高价值交易以外的任何事情都过于昂贵。随着系统变得更受欢迎，它实际上对游戏或社交媒体等日常应用变得更加无用，因为它们的用户负担不起费用。

因为以太坊选择优先考虑适度的硬件要求，新的竞争者出现了，提供更高性能的"世界计算机"。登场：Solana。

### Solana 的崛起

与以太坊一样，Solana 运行自己的应用程序，称为 Solana 虚拟机（SVM）。Solana 大幅提高了验证者的硬件要求以提升性能。这使得网络每秒可以处理数千笔交易，但代价是牺牲了核心原则。

通过提高硬件门槛，Solana 使参与变得更加昂贵。Solana 的要求如此之高，以至于只有拥有专业设备的人才能负担得起运行验证者。这使系统从广泛的去中心化转向了一个更小、更集中的资本雄厚运营者群体。

![](/images/zero-5.png)

### 同构性

所有区块链的架构缺陷都是相同的。它们是同构的。普遍的信念是，要成为一台世界计算机，网络中的每一个节点都必须下载、处理并对每一笔交易达成共识。要做到这一点，每个节点必须是相同的。当你为更高性能调整网络时，成本会急剧增加。本质上，这种架构在不牺牲核心原则的情况下无法扩展。

### 高贵的谎言

2020年，以太坊面临生存威胁。新区块链正在选择性能而非核心原则。以太坊自己通过分片扩展其 Layer 1（L1）的计划进展太慢，网络正在失去领先地位。

无法快速扩展 L1，以太坊将其策略转向了以 Layer 2 为中心的路线图。这些 Layer 2（L2），或称 rollups，是将数据发布到 L1 的中心化区块链。以太坊承诺这些系统最终将继承 L1 的去中心化和安全性。

但存在一个根本缺陷。L2 永远无法放弃对区块排序、智能合约逻辑和功能路线图的控制。

所有区块链都通过验证者达成共识来升级其应用而进化。然而，L2 在不失去这种能力的情况下无法继承 L1 的安全性。要真正被 L1 保护，L2 需要放弃其升级特权，使其逻辑被锁定且不可变。

这创造了一个证明 Layer 2 承诺一直是谎言的悖论：

- **如果 L2 被锁定且去中心化**：它变成了一条死胡同。它无法创新或适应，与其他所有演进的网络相比变得无关紧要。
- **如果 L2 可以升级**：它是中心化的，由一小群有权力改变规则的人控制。

以太坊告诉我们这个谎言是为了应对一个残酷的真相：他们为了保持竞争力而放弃了原则。他们停止了构建世界计算机。相反，他们把用户从去中心化、无许可、抗审查的区块链推向了中心化、可审查的区块链，然后称之为扩展。

这个谎言驱使我们创建了 Zero。

![](/images/zero-6.png)

### 计算、存储和网络

从基础开始。像任何计算机一样，区块链受到三个方面的限制：

- **计算**：运行代码将输入转化为输出。
- **存储**：保存和检索输出。
- **网络**：与其他计算机和互联网通信。

要提高任何系统的性能，你必须在这三个领域之间做出权衡。

## 计算和网络的压缩

在标准区块链中，每个验证者必须下载并运行每笔交易以确保数据正确。这就是复制问题。它不仅创造了瓶颈；它增加了成本，给验证者带来了下载和处理一切的巨大负担。

零知识（ZK）证明解决了这个问题。它们允许你在不需要自己运行代码的情况下，通过数学验证输出是否正确。验证者不再需要重新运行每笔交易，只需验证一个微小的证明并跳过工作。

这意味着验证者不再需要重放历史。事实上，他们甚至不需要下载每个区块的原始数据，只需一个交易存在的证明。这个认识——我们可以解放计算和网络的复制——引导我们走向了 Zero 不可避免的设计。

![](/images/zero-7.png)

## 从同构到异构架构的转变

每个去中心化区块链都从同一件事开始：一组验证者对交易区块达成共识。Zero 也不例外。

在现有的区块链中，每个验证者通过单一应用程序运行这些交易，例如 EVM。Zero 在概念上做同样的事情。我们将 Zero 的应用称为原子性区域（Atomicity Zones）。

Zero 的不同之处在于验证者下载数据和计算证明，而不是下载和重放每笔交易。这大幅减少了每个验证者的带宽和计算需求。

历史上第一次，单一区块链的验证者不必复制相同的工作。这是解锁异构架构的结构性突破。

所有其他区块链都基于同构设计运行。在这些系统中，节点是相同的克隆体，下载相同的数据并重放每笔交易。虽然这保持了链的同步，但它将网络困在了冗余手动劳动的循环中。

如果 Zero 在相同的同构框架内使用 ZK 证明，那将是设计上的失败。ZK 证明在毫秒内即可验证，所以每个验证者会立即完成任务然后闲置，浪费了他们被迫配置的资源。

为了利用 ZK 的解锁，Zero 将网络分为两个不同的功能类别：区块生产者和区块验证者。

- **区块生产者**轮流构建区块、执行状态转换并生成密码学证明。
- **区块验证者**只需接收区块头并验证证明。

这种转变从根本上改变了网络的经济需求。在以太坊中，每个验证者都必须拥有运行完整 VM 的计算能力。这种大规模冗余使得维护该规模网络的集体成本大约为每年 5000 万美元。

Zero 消除了每个节点必须克隆的需求。通过将执行与验证分离，具有与以太坊相同吞吐量和去中心化程度的网络可以以不到 100 万美元的成本运行。全球规模的去中心化不是通过让验证者更强大来实现的，而是通过让验证者做更少的事来实现的。

![](/images/zero-8.png)

### 去中心化

区块生产者将交易打包成区块并生成证明以提升性能。然而，验证者对哪些区块被接受拥有最终权力。这防止了任何单一区块生产者充当守门人，并确保原子性区域是抗审查的。

Zero 通过委托权益证明来保护安全。ZRO 质押者将代币委托给运行网络的验证者。为了确保每个人都可以参与，我们取消了高最低质押要求并消除了共识层的自动惩罚。这创造了公平的竞争环境，消除了通常将家庭验证者推向大型质押池的系统性经济障碍。

同样的逻辑适用于网络的治理方式。任何重大变更，如协议升级或添加新 Zone，都需要质押者进行链上投票。这就是为什么 Zero 是一个统一的安全区块链：没有外部委员会来升级 Zones，它完全由去中心化治理层拥有。但我们知道大多数人没有时间审计复杂的代码或经济白皮书。为了解决这个问题，Zero 使用了参议员模型。

- **专家指导**：参议员是密码学和经济学等领域的公认专家，与 Zero 的使命一致。
- **智能委托**：作为质押者，你可以将投票权委托给你信任的参议员，确保网络由知情决策引导。
- **非托管**：你永远不会失去你的声音。你可以随时覆盖委托并直接对任何提案投票。

这种设置允许网络受益于精英专业知识，同时将最终权力保留在它应该属于的地方：与利益相关者同在。

## 从单核到多核

如果 Zero 的架构能够在仅使用其一小部分资源的情况下匹配以太坊的去中心化程度，这就开启了一个重大的新机会。本质上，Zero 在网络算力和计算资源上留下了大量空间。

大多数区块链是单线程的。它们就像一台只有单核处理器的老旧计算机，一次只能运行一个应用。因为网络中的每个节点都必须重复每一条指令，整个世界计算机受限于那个单一核心的速度。

Zero 打破了这个限制。由于我们不再在重复工作上浪费资源，网络可以自由地并行运行许多应用程序。这使得系统能够同时处理大量交易而不会减速。

把它想象成从单核到多核处理器的跳跃。在旧模型中，如果你想运行一个新应用，你必须与其他所有人竞争相同的有限周期。Zero 有能力在不同的原子性区域中同时运行数百个应用。

通过转向多核架构，我们不仅仅是扩展了单个应用；我们扩展了整个生态系统。Zero 可以在一个 Zone 中运行高频交易所，在另一个中运行社交媒体协议，在第三个中运行隐私支付系统，所有这些都不会争夺相同的资源。

![](/images/zero-9.png)

## 区块链的四个性能瓶颈

两年半前，这就是我们着手用 Zero 构建的架构。我们最初的目标是创建一个与以太坊一样去中心化、无许可和抗审查的区块链，但具有 Solana 的性能。为了实现这一目标，我们必须从第一性原理出发解决困扰这个行业的扩展瓶颈。

我们的旅程从同时攻克存储和 ZK 开始。

### 存储突破：QMDB

除了计算和网络，状态存储是扩展的最大瓶颈之一。多年来，行业认为区块链必须使用基于 trie 的数据结构。这些结构效率极低，因为它们将 trie 结构写入磁盘，浪费了现代 SSD 的高速潜力。

我们意识到解决方案是数据架构的根本转变。我们没有遵循传统的 trie 模型，而是转向了一种基于日志的、只追加的结构，专门为现代 SSD 的高速 IO 设计。然后我们直接在这个优化的基础之上分层构建了可验证性。

结果就是 QMDB，世界上最快的可验证数据库。其设计达到了 92% 的理论最优，允许每秒处理 300 万次更新。

这个性能不仅仅是边际改进。它比现有的区块链状态数据库快 100 倍，比 Facebook 的 RocksDB 快 6 倍。我们之前认为 Solana 的吞吐量是可能的上限，但 QMDB 证明存储不是瓶颈，而且上限足够高，可以支持像纽约证券交易所这样每秒超过 200 万笔交易的应用。这个数字成为我们系统中每个剩余瓶颈的目标。通过解决存储问题，Zero 消除了真正全球规模的第一个物理障碍。

### 计算：用 FAFO 提升上限

当 QMDB 达到每秒 300 万次更新时，很明显吞吐量的理论上限远高于行业标准所暗示的。存储优化后，主要瓶颈转向了计算。具体来说，网络需要一种方法来处理交易，而不会出现传统区块链工作负载中固有的调度冲突。

大多数区块链串行处理交易。即使任务不相关，它们也被强制排成单列以防止错误。这种顺序要求阻止了系统的扩展，无论提供多少硬件。

我们发明了 FAFO（Fast Ahead of Formation Optimization，形成前快速优化）来解决这个问题。FAFO 实现了类似于 Solana 的并行执行，但在我们精密的调度算法和优越的开发者体验上有关键区别。Solana 要求用户或开发者手动指定交易将触及哪些存储槽，而 FAFO 自动执行此分析。它识别非冲突交易并将它们重新排序以进行并行执行，而不将负担转移给用户。

虽然 FAFO 不能消除存储热点上的竞争，但它隔离了性能影响。这确保了对某个特定应用需求的激增不会增加其他应用的成本。不存在竞争的应用继续获得廉价的区块空间，无论其他地方的拥堵情况如何。

这种架构转变意义重大。FAFO 实现了比 BNB 链快 2500 倍的性能，单个节点超过每秒 120 万笔 EVM 交易。通过消除串行执行，EVM 终于可以扩展了。

### ZK：用 Jolt 扩展

在构建 QMDB 的同时，我们也评估了零知识（ZK）领域。我们发现大多数现有的 zkVM 正在到达其生命周期的末尾；它们建立在老化的架构上，无法满足我们对全球规模的要求。在各种选择中，我们将 Jolt 确定为一个新兴且有前途的框架，我们相信它能够驱动世界计算机。Jolt 的架构从根本上比其他证明系统更简单、更高效。我们组建了一支世界级密码学家团队，在此基础上构建了 Jolt Pro，它以每个 cell 超过 1.61GHz 的速度证明 RISC-V，并有明确的路线图到 2027 年达到 4GHz。

从这个角度来看，4GHz 等于现代高端 CPU 的单核。我们可以无限扩展这些 cell，唯一的限制是数据中心中 GPU 的数量。

Jolt Pro 证明 RISC-V 的速度比现有 zkVM 快约 100 倍。这一飞跃是最终使实时可验证计算变得实用的关键。

### 网络：最后的瓶颈

解决了存储、计算和 ZK 后，我们还剩最后一个障碍：容错的区块存储。标准区块链受到瓶颈限制，因为每个验证者必须下载每笔交易。在我们的架构中，验证者只需要一个交易承诺和交易数据的一小部分。这是一个微小的密码学指纹，证明数据是可检索的，这是一个急剧缩小的信息量——对于一个 128 MiB 的区块来说，不到原始区块数据的 0.5%。

为了扩展这些承诺，我们创建了 SVID（可扩展可验证信息分散）。它在理论上提供了高达 10 GiB/s 的巨大吞吐量，比 PeerDAS 快 1000 倍以上。通过确保验证者只下载最低限度的数据，我们清除了实现每个 Zone 200 万 TPS 的最后障碍。

## 首个多核世界计算机

网络方面的飞跃完成了架构闭环。通过将数据可用性与验证解耦，SVID 允许网络处理大规模负载而不会压垮单个节点。结合用于存储的 QMDB、用于调度的 FAFO 和用于 ZK 证明的 Jolt Pro，网络不再是瓶颈。

每秒 200 万笔交易成为我们系统每个组件的明确目标。通过达到这个目标，Zero 可以支持最高性能的现代应用。

这种架构使 Zero 能够作为去中心化多核世界计算机运行。至关重要的是，Zones 不是主权链、Layer 2 或 rollups。每个 Zone 都由 Zero 拥有，并由相同的统一协议治理。大多数区块链，包括以太坊，都是单线程的；它们在单核上运行。Zero 在多核上运行。每个 Zone 在功能上等同于以太坊运行的单一 EVM，但我们在多个核心上同时执行它们。

结果是一个水平扩展的单一区块链。开发者不需要创建自己的 Zones；他们在 Zero 提供的 Zones 之上构建应用。我们用一个统一的高性能系统取代了碎片化的、一刀切的模型，该系统将多个应用视为单一现代多核 CPU 上的并发进程。

由于这种大规模的成本降低，Zero 不仅仅是现有区块链的替代品；它为 AWS 等中心化云服务提供商提供了可信的替代方案。通过剥离冗余复制的开销，我们终于在全球规模上使去中心化变得可行。Zero 是第一个真正可扩展的多核世界计算机。

![](/images/zero-10.png)
